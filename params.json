{"name":"Ga-proxy","tagline":"Google Analytics proxy that lets you use the ga api without worring about oauth autentication","body":"Google Analitics Proxy\r\n=========\r\n\r\nThis is a little (but handy!) service, that abstract the google api oauth autentication so other tools can use the [google analitics api] directly, without worring about that stuff.\r\n\r\nInstalation\r\n--\r\n\r\n```\r\ngit clone https://github.com/killfill/ga-proxy.git\r\ncd ga-proxy\r\nnpm install\r\ncd static/public\r\nbower install\r\n```\r\n\r\nConfiguration\r\n--\r\n\r\n[Create an app] in your google account, like this:\r\n\r\n![Google account screenshot][google_api_credentials]\r\n\r\n\r\n\r\nYou will need the app credentials. In the config directory, create a file (or just use the development one) like this:\r\n```\r\n{\r\n\t\"port\": 5005,\r\n\t\"google_cb\": \"http://localhost:5005/auth/google/return\",\r\n\t\"google_clientid\": \"194565570790-bfqh7u9npef5u4nj6tfeji13f9is85m3.apps.googleusercontent.com\",\r\n\t\"google_password\": \"0HgceDBUgb3zwT_WmrbMF1dF\"\r\n}\r\n```\r\n\r\n\r\nWith this information in place, when you start the service and load the url in the browser, it will redirect to google autentication, to gain offline access to query google analitics.\r\n\r\nThis process will ask for readonly permision and save the access token for future reference. The token is valid just for 1 hour, when this happends, the refresh token will be used to get a new token automatically, so you just need to give permission ones.\r\n\r\nThis information will be saved in a file in /tmp/memory.json. \r\n\r\n**WARN**: Do not make that file public!\r\n\r\nUsage\r\n--\r\n\r\nStart the service with :\r\n``` ENV=conf_file_name node index.js ``` (if not ENV specified, development will be used).\r\n\r\nLoad the url in your browser. As no previous permission was granted, it will ask you to:\r\n![Ask permission][ask_permission]\r\n\r\nAfter that, the browser will show a small, simple and ugly test web console.\r\n\r\nThe *Accounts* section, will show you the account name, property, and the first 2 profiles of your account. The profile id, in bold, is the one you need to query the [google analitics api].\r\n![Accounts][accounts]\r\n\r\nThe *Test* section, will let you do some basic queries to the [google analitics api].\r\n![Test Web Console][test_console]\r\n\r\n**Curl example:**\r\n```\r\n$ curl 'http://localhost:5005/google/data/ga?dimensions=ga:date&metrics=ga:pageviews&start-date=yesterday&end-date=today&ids=ga:471079'|json\r\n\r\n{\r\n  \"kind\": \"analytics#gaData\",\r\n  \"id\": \"https://www.googleapis.com/analytics/v3/data/ga?ids=ga:471079&dimensions=ga:date&metrics=ga:pageviews&start-date=yesterday&end-date=today\",\r\n  \"query\": {\r\n    \"start-date\": \"yesterday\",\r\n    \"end-date\": \"today\",\r\n    \"ids\": \"ga:471079\",\r\n    \"dimensions\": \"ga:date\",\r\n    \"metrics\": [\r\n      \"ga:pageviews\"\r\n    ],\r\n    \"start-index\": 1,\r\n    \"max-results\": 1000\r\n  },\r\n  \"itemsPerPage\": 1000,\r\n  \"totalResults\": 2,\r\n  \"selfLink\": \"https://www.googleapis.com/analytics/v3/data/ga?ids=ga:471079&dimensions=ga:date&metrics=ga:pageviews&start-date=yesterday&end-date=today\",\r\n  \"profileInfo\": {\r\n    \"profileId\": \"471079\",\r\n    \"accountId\": \"305150\",\r\n    \"webPropertyId\": \"UA-305150-1\",\r\n    \"internalWebPropertyId\": \"500602\",\r\n    \"profileName\": \"www.fayerwayer.com\",\r\n    \"tableId\": \"ga:471079\"\r\n  },\r\n  \"containsSampledData\": false,\r\n  \"columnHeaders\": [\r\n    {\r\n      \"name\": \"ga:date\",\r\n      \"columnType\": \"DIMENSION\",\r\n      \"dataType\": \"STRING\"\r\n    },\r\n    {\r\n      \"name\": \"ga:pageviews\",\r\n      \"columnType\": \"METRIC\",\r\n      \"dataType\": \"INTEGER\"\r\n    }\r\n  ],\r\n  \"totalsForAllResults\": {\r\n    \"ga:pageviews\": \"159371\"\r\n  },\r\n  \"rows\": [\r\n    [\r\n      \"20140610\",\r\n      \"113419\"\r\n    ],\r\n    [\r\n      \"20140611\",\r\n      \"45952\"\r\n    ]\r\n  ]\r\n}\r\n```\r\n\r\n\r\nFeedback\r\n==\r\nFeel free to give any feedback!\r\n[My twitter]\r\n\r\n\r\n\r\n[create an app]:https://console.developers.google.com/project/194565570790/apiui/credential?authuser=0\r\n[google analitics api]:https://developers.google.com/analytics/devguides/reporting/core/v3/reference?hl=es#filters\r\n[My twitter]: https://twitter.com/killfil\r\n\r\n[google_api_credentials]: https://raw.github.com/killfill/ga-proxy/master/images/google_api_credentials.png\r\n[ask_permission]: https://raw.github.com/killfill/ga-proxy/master/images/ask_permission.png\r\n[accounts]: https://raw.github.com/killfill/ga-proxy/master/images/accounts.png\r\n[test_console]: https://raw.github.com/killfill/ga-proxy/master/images/test_console.png\r\n","google":"UA-51835966-1","note":"Don't delete this file! It's used internally to help with page regeneration."}